var link=document.querySelector(".button-feedback"),popupContacts=document.querySelector(".popup-contacts"),close=popupContacts.querySelector(".exit-contacts"),form=popupContacts.querySelector(".form-conacts"),userName=popupContacts.querySelector("[name=user-name]"),userEmail=popupContacts.querySelector("[name=user-email]"),text=popupContacts.querySelector("[name=text]"),isStorageSupport=!0,storage="",storageMail="";try{storage=localStorage.getItem("userName"),storageMail=localStorage.getItem("userEmail")}catch(e){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(),popupContacts.classList.add("modal-show"),storage?(userName.value=storage,storageMail?userEmail.value=storageMail:userEmail.focus(),text.focus()):userName.focus()}),close.addEventListener("click",function(e){e.preventDefault(),popupContacts.classList.remove("modal-show"),popupContacts.classList.remove("modal-error")}),form.addEventListener("submit",function(e){userName.value&&userEmail.value?isStorageSupport&&(localStorage.setItem("userName",userName.value),localStorage.setItem("userEmail",userEmail.value)):(e.preventDefault(),popupContacts.classList.remove("modal-error"),popupContacts.offsetWidth=popupContacts.offsetWidth,popupContacts.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupContacts.classList.contains("modal-show")&&(popupContacts.classList.remove("modal-show"),popupContacts.classList.remove("modal-error")))});